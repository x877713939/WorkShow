(window.webpackJsonp=window.webpackJsonp||[]).push([["wxpay"],{e2cf:function(e,t,a){"use strict";a.r(t),a("8e6e"),a("ac6a"),a("456d"),a("e7e5");var r=a("d399"),n=(a("a481"),a("bd86")),i=a("3ce7"),s=(a("bc3a"),a("2f62"));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var o={data:function(){return{detail:{}}},computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},Object(s.d)(["wechatSwitch","isLoading"])),mounted:function(){var e=this.$route.query,t=e.pay_amount,a=e.title,r=e.sn,n=e.openid;this.detail={pay_amount:t,title:a,sn:r,openid:n}},methods:{handlePay:function(){var e=this;i.a.createTrade({data:{gateway:"WechatPay_JsH5",type:"purchase",orderSn:this.detail.sn,openid:this.detail.openid}}).then((function(t){WeixinJSBridge.invoke("getBrandWCPayRequest",t.platformCreatedResult,(function(a){if("get_brand_wcpay_request:ok"==a.err_msg){if(e.wechatSwitch)return void e.$router.replace({path:"/pay_success",query:{paidUrl:t.paidSuccessUrlH5}});location.href=t.paidSuccessUrlH5}else"get_brand_wcpay_request:fail"==a.err_msg?alert("支付失败"):"get_brand_wcpay_request:cancel"==a.err_msg&&alert("支付已失败")}))})).catch((function(e){r.a.fail(e.message)}))}}},d=a("a6c2"),l=Object(d.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"payPage"},[e.isLoading?a("e-loading"):e._e(),a("div",{staticClass:"payPage__order"},[a("div",{staticClass:"order__head"},[e._v("\n      "+e._s(e.detail.title)+"\n    ")]),a("div",{staticClass:"order__infomation"},[a("div",{staticClass:"sum"},[a("span",[e._v("待支付")]),a("span",{staticClass:"sum__price"},[e._v("¥ "),a("span",{staticClass:"num"},[e._v(e._s(e._f("toMoney")(e.detail.pay_amount)))])])])])]),a("div",{staticClass:"payPage__payBtn",on:{click:e.handlePay}},[e._v("\n    立即支付\n  ")])],1)}),[],!1,null,null,null);t.default=l.exports}}]);