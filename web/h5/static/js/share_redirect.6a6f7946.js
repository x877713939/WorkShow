(window.webpackJsonp=window.webpackJsonp||[]).push([["share_redirect"],{7067:function(t,e,i){"use strict";i("e17f");var n=i("2241"),r=(i("e7e5"),i("d399")),a=i("a026"),c=i("3ce7"),o=/micromessenger/.test(navigator.userAgent.toLowerCase());e.a=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||i&&!e)r.a.fail("缺少分享参数");else{var u={domainUri:location.origin,itemUri:"",source:"h5"};c.a.marketingActivities({query:{activityId:t},data:u}).then((function(t){var c=-1!==t.url.indexOf("?")?"&":"?",u=i?"".concat(e).concat(c,"ticket=").concat(t.ticket):t.url;o?window.location.href=u:n.a.confirm({message:"去微信完成活动",confirmButtonText:"复制链接",title:""}).then((function(){try{a.a.prototype.$copyText(u).then((function(){r.a.success("复制成功")}),(function(){r.a.fail("请更换浏览器复制")}))}catch(t){r.a.fail("请更换浏览器复制")}})).catch((function(){}))})).catch((function(t){r.a.fail(t.message)}))}}},"847b":function(t,e,i){"use strict";i.r(e);var n=i("a262"),r=i("d863"),a={name:"ShareRedirect",mixins:[n.a,r.a],data:function(){return{}},mounted:function(){this.afterLogin()}},c=i("a6c2"),o=Object(c.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,null,null,null);e.default=o.exports},a262:function(t,e,i){"use strict";var n=i("7067");e.a={methods:{activityHandle:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(n.a)(t,e,i)}}}},d863:function(t,e,i){"use strict";i("a481");var n=i("7067");e.a={data:function(){return{redirect:""}},created:function(){this.redirect=decodeURIComponent(this.$route.fullPath)},methods:{afterLogin:function(){var t=this,e=this.$route.query.redirect?decodeURIComponent(this.$route.query.redirect):"/",i=this.$route.query.skipUrl?decodeURIComponent(this.$route.query.skipUrl):"",r=this.$route.query.callbackType,a=this.$route.query.activityId,c=decodeURIComponent(this.$route.query.callback);setTimeout((function(){if(r)switch(r){case"marketing":Object(n.a)(a,c)}else i?t.$router.replace({path:e,query:{backUrl:i}}):t.$router.replace({path:e})}),2e3)}}}}}]);